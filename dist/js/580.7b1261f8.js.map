{"version":3,"file":"js/580.7b1261f8.js","mappings":"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","sources":["webpack://rolling/./src/views/frontend/Order.vue","webpack://rolling/./src/views/frontend/Order.vue?06ed"],"sourcesContent":["<template>\n  <div class=\"order-box\">\n    <header class=\"order-bg\">\n      <p class=\"logo\">Rolling</p>\n      <div class=\"title\">\n        <h1>訂單明細</h1>\n      </div>\n    </header>\n\n    <div class=\"order\">\n      <Form @submit=\"payOrder\">\n        <table class=\"products order-bg\">\n          <caption class=\"text-shallow\">商品明細</caption>\n          <thead>\n            <tr class=\"order-bg\">\n              <th class=\"order-bg\">品名</th>\n              <th class=\"order-bg\">數量</th>\n              <th class=\"order-bg\">金額</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\n              <td class=\"item-underline\">{{ item.product.title }}</td>\n              <td class=\"item-underline\">{{ item.qty }}{{ item.product.unit }}</td>\n              <td class=\"item-underline\">NT${{ $filters.currency(item.product.price) }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <th class=\"bg-color\"></th>\n              <th class=\"bg-color\">總計</th>\n              <th class=\"bg-color\">NT${{ $filters.currency(order.total) }}</th>\n            </tr>\n          </tfoot>\n        </table>\n        <table class=\"user\">\n          <caption class=\"text-shallow\">訂購人資訊</caption>\n          <tbody>\n            <tr class=\"item-underline\">\n              <th>姓名</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>手機</th>\n              <td>{{ order.user.tel }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>姓名</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>電子郵件</th>\n              <td>{{ order.user.email }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>寄送地址</th>\n              <td>{{ order.user.address }}</td>\n            </tr>\n            <tr class=\"item-underline\">\n              <th>備註</th>\n              <td v-if=\"order.message > 0\">{{ order.message }}</td>\n              <td v-else>無備註</td>\n            </tr>\n            <tr class=\"item-underline\"\n              v-if=\"order.is_paid === true\" >\n              <th>付款狀態</th>\n              <td>付款完成</td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"button-box\"\n          v-if=\"order.is_paid === false\">\n          <button class=\"pay fill-btn\">確認付款</button>\n        </div>\n        <div class=\"button-box\"\n          v-else>\n          <button class=\"home\">\n            <router-link :to=\"{ name: 'home' }\" class=\"border-btn\" >\n              回首頁\n            </router-link>\n          </button>\n        </div>\n      </Form>\n    </div>\n  </div>\n\n  <Loading :active=\"isLoading\" />\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      order: {\n        user: {\n        },\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n\n  methods: {\n    async getOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n\n      try {\n        const res = await axios.get(api);\n        this.isLoading = false;\n\n        this.order = res.data.order;\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n\n    async payOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n\n      try {\n        const res = await axios.post(api);\n        this.isLoading = false;\n\n        if (res.data.success) {\n          this.getOrder();\n          this.pushMessageState(res);\n        }\n      } catch (error) {\n        console.error('Error 找不到資料', error);\n      }\n    },\n  },\n\n  created() {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n\n  inject: ['pushMessageState'],\n};\n</script>\n","import { render } from \"./Order.vue?vue&type=template&id=9d3bd7c8\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/macbook/Desktop/project/rolling/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_30","_hoisted_31","_hoisted_34","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_Form","onSubmit","$options","payOrder","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","$data","order","products","item","key","id","_hoisted_7","_toDisplayString","product","title","_hoisted_8","qty","unit","_hoisted_9","_ctx","$filters","currency","price","_hoisted_10","_hoisted_11","_hoisted_12","total","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","user","name","_hoisted_17","_hoisted_18","tel","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","email","_hoisted_23","_hoisted_24","address","_hoisted_25","_hoisted_26","message","_hoisted_27","_hoisted_28","is_paid","_hoisted_29","_hoisted_32","_hoisted_33","_hoisted_35","_hoisted_36","_hoisted_37","_component_router_link","to","_component_Loading","active","isLoading","data","orderId","methods","async","this","api","res","axios","error","console","success","getOrder","pushMessageState","created","$route","params","inject","__exports__","render"],"sourceRoot":""}